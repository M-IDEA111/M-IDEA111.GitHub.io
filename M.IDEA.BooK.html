<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M IDEA Book </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary-color: #03ffba;
            --primary-color-light: #03ffed;
            --dark-bg: #121212;
            --dark-card: #1e1e1e;
            --dark-text: #f5f5f5;
            --border-radius: 10px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        
        body {
            background-color: var(--dark-bg);
            color: var(--dark-text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: linear-gradient(135deg, #0a0a0a, #121212);
            background-attachment: fixed;
            padding-top: 100px;
        }
        
        /* Header Styles */
        header {
            background: rgba(0, 0, 0, 0.85);
            padding: 0.8rem 1.5rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid var(--primary-color);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            gap: 15px;
        }
        
        .logo {
            flex-grow: 1;
            text-align: center;
        }
        
        .logo-image {
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            transition: transform 0.3s;
            filter: drop-shadow(0 0 10px var(--primary-color-light));
        }
        
        .logo-image:hover {
            transform: scale(1.05);
        }
        
        .logo-image img {
            height: 100%;
            max-height: 60px;
            object-fit: contain;
        }
        
        .header-icons {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .settings-container, .search-container-top {
            position: relative;
        }
        
        .icon-btn {
            background: none;
            border: none;
            color: var(--primary-color);
            font-size: 1.4rem;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .icon-btn:hover {
            background-color: rgba(3, 255, 186, 0.1);
            transform: rotate(10deg);
            color: var(--primary-color-light);
        }
        
        .icon-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(3, 255, 186, 0.2) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .icon-btn:hover::before {
            opacity: 1;
        }
        
        .settings-menu, .search-container {
            position: fixed;
            top: 90px;
            background-color: #2c2c2c;
            border-radius: var(--border-radius);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 500px;
            padding: 1.5rem;
            display: none;
            z-index: 1000;
            border: 1px solid rgba(3, 255, 186, 0.3);
            animation: slideIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        /* إعدادات مواضع القوائم */
        .settings-menu {
            right: 5%;
            transform-origin: top right;
        }
        
        .search-container {
            left: 50%;
            transform: translateX(-50%);
            transform-origin: top center;
        }
        
        .settings-menu.active,
        .search-container.active {
            display: block;
        }
        
        @keyframes slideIn {
            0% {
                opacity: 0;
                transform: translateY(-20px) scale(0.9);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .settings-section {
            margin-bottom: 1.2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(3, 255, 186, 0.2);
        }
        
        .settings-title {
            font-size: 1.2rem;
            margin-bottom: 0.8rem;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .social-links {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .social-link {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            background-color: rgba(255, 255, 255, 0.08);
            border-radius: var(--border-radius);
            color: var(--dark-text);
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .social-link:hover {
            background-color: var(--primary-color);
            color: #000;
        }
        
        .social-link i {
            font-size: 1.3rem;
            color: var(--primary-color);
        }
        
        .social-link:hover i {
            color: #000;
        }
        
        /* Search Container */
        .search-box {
            display: flex;
            width: 100%;
            margin-top: 10px;
            border-radius: 50px;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(3, 255, 186, 0.3);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 10px rgba(3, 255, 186, 0.3); }
            50% { box-shadow: 0 0 20px rgba(3, 255, 186, 0.5); }
            100% { box-shadow: 0 0 10px rgba(3, 255, 186, 0.3); }
        }
        
        .search-box input {
            flex: 1;
            padding: 14px 20px;
            border: none;
            background-color: rgba(0, 0, 0, 0.5);
            color: var(--dark-text);
            font-size: 1rem;
            outline: none;
            transition: all 0.3s;
        }
        
        .search-box input:focus {
            background-color: rgba(0, 0, 0, 0.7);
        }
        
        .search-box button {
            padding: 0 22px;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-color-light));
            color: #000;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .search-box button:hover {
            background: linear-gradient(90deg, var(--primary-color-light), var(--primary-color));
            transform: scale(1.05);
        }
        
        /* Navigation - بدون خلفية وبدون حدود */
        nav {
            background: rgba(0, 0, 0, 0.8);
            padding: 1rem 0;
            position: sticky;
            top: 80px;
            z-index: 999;
            border-bottom: 1px solid rgba(3, 255, 186, 0.2);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        
        .categories {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        
        .category-btn {
            background: none;
            border: none;
            color: #aaa;
            padding: 10px 0;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            z-index: 1;
            font-weight: 600;
        }
        
        .category-btn::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-color-light));
            transition: width 0.4s ease;
            z-index: -1;
        }
        
        .category-btn:hover, .category-btn.active {
            color: var(--primary-color);
        }
        
        .category-btn:hover::after, .category-btn.active::after {
            width: 100%;
        }
        
        /* Main Content */
        main {
            padding: 2rem;
            flex: 1;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }
        
        .section-title {
            font-size: 1.8rem;
            margin: 2rem 0 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary-color);
            display: inline-block;
            color: var(--primary-color);
            text-shadow: 0 0 10px rgba(3, 255, 186, 0.5);
        }
        
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .book-card {
            background-color: var(--dark-card);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            position: relative;
            border: 1px solid rgba(3, 255, 186, 0.1);
        }
        
        .book-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, transparent, rgba(3, 255, 186, 0.1));
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .book-card:hover {
            transform: translateY(-15px);
            box-shadow: 0 15px 30px rgba(3, 255, 186, 0.3);
        }
        
        .book-card:hover::before {
            opacity: 1;
        }
        
        .book-cover {
            height: 280px;
            overflow: hidden;
            position: relative;
        }
        
        .book-cover::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 40%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
        }
        
        .book-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .book-card:hover .book-cover img {
            transform: scale(1.1);
        }
        
        .book-info {
            padding: 1.2rem;
            position: relative;
        }
        
        .book-title {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
            font-weight: 600;
            transition: color 0.3s;
        }
        
        .book-author {
            color: #aaa;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .book-description {
            color: #ccc;
            font-size: 0.85rem;
            line-height: 1.5;
            margin-bottom: 0.8rem;
        }
        
        .book-category {
            display: inline-block;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-color-light));
            color: #000;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-top: 0.5rem;
            font-weight: bold;
        }
        
        /* Search Results */
        .search-results {
            display: none;
            min-height: 50vh;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
        }
        
        .no-results {
            font-size: 1.8rem;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            text-shadow: 0 0 10px rgba(3, 255, 186, 0.5);
        }
        
        .no-results-icon {
            font-size: 5rem;
            color: var(--primary-color-light);
            margin-bottom: 1.5rem;
            animation: pulse 2s infinite;
        }
        
        /* Footer */
        footer {
            background: transparent;
            color: #aaa;
            padding: 2.5rem 2rem;
            text-align: center;
            margin-top: auto;
            width: 100%;
            position: relative;
            overflow: hidden;
        }
        
        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-color-light));
            animation: gradient-animation 3s infinite alternate;
        }
        
        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }
        
        .footer-links a {
            color: #aaa;
            text-decoration: none;
            transition: color 0.3s;
            position: relative;
            padding-bottom: 5px;
        }
        
        .footer-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-color-light));
            transition: width 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--primary-color);
        }
        
        .footer-links a:hover::after {
            width: 100%;
        }
        
        .copyright {
            font-size: 0.9rem;
            color: #777;
        }
        
        .copyright span {
            color: var(--primary-color);
        }
        
        /* تصميم موحد لجميع الأجهزة */
        @media (max-width: 768px) {
            body {
                padding-top: 85px;
            }
            
            header {
                padding: 0.7rem 1rem;
            }
            
            .logo-image {
                height: 50px;
            }
            
            .logo-image img {
                max-height: 50px;
            }
            
            .icon-btn {
                width: 40px;
                height: 40px;
                font-size: 1.3rem;
            }
            
            .categories {
                gap: 1.5rem;
            }
            
            .category-btn {
                font-size: 1.1rem;
            }
            
            .section-title {
                font-size: 1.6rem;
            }
            
            .books-grid {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                gap: 1.5rem;
            }
            
            nav {
                top: 70px;
            }
            
            .settings-menu, .search-container {
                top: 80px;
            }
        }
        
        @media (min-width: 1200px) {
            .logo-image {
                height: 70px;
            }
            
            .logo-image img {
                max-height: 70px;
            }
            
            .section-title {
                font-size: 2.2rem;
            }
        }
        
        /* تصميم موحد للهواتف الصغيرة */
        @media (max-width: 480px) {
            .header-container {
                gap: 10px;
            }
            
            .logo-image {
                height: 45px;
            }
            
            .logo-image img {
                max-height: 45px;
            }
            
            .icon-btn {
                width: 38px;
                height: 38px;
                font-size: 1.2rem;
            }
            
            .categories {
                gap: 1.2rem;
            }
            
            .category-btn {
                font-size: 1rem;
            }
            
            nav {
                top: 65px;
            }
            
            .settings-menu, .search-container {
                top: 75px;
                width: 95%;
            }
        }
        
        /* أنماط جديدة لقسم القراءة */
        .book-container {
            display: none;
            max-width: 1000px;
            margin: 0 auto;
            width: 100%;
        }
        
        .seasons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 1rem;
        }
        
        .season-card {
            background-color: var(--dark-card);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            border: 1px solid rgba(3, 255, 186, 0.1);
        }
        
        .season-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(3, 255, 186, 0.3);
        }
        
        .season-cover {
            height: 280px;
            overflow: hidden;
            position: relative;
        }
        
        .season-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .season-info {
            padding: 1.2rem;
        }
        
        .season-title {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .season-pages {
            color: #aaa;
            font-size: 0.9rem;
        }
        
        .season-progress {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-color-light));
            border-radius: 3px;
            transition: width 0.5s ease;
        }
        
        .reading-container {
            display: none;
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
       background: var(--dark-card);
            border-radius: var(--border-radius);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            overflow: hidden;
            border: 1px solid rgba(3, 255, 186, 0.2);
        }
        
        .reading-header {
            background: rgba(0, 0, 0, 0.7);
            padding: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 2px solid var(--primary-color);
        }
        
        .reading-title {
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        
        .back-to-books {
            background: linear-gradient(90deg, var(--primary-color), var(--primary-color-light));
            color: #000;
            border: none;
            padding: 8px 15px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-to-books:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(3, 255, 186, 0.4);
        }
        
        .reading-content {
            padding: 2rem;
            line-height: 1.8;
            font-size: 1.1rem;
            min-height: 400px;
            background: rgba(30, 30, 30, 0.8);
        }
        
        .page-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.2rem;
            background: rgba(0, 0, 0, 0.7);
            border-top: 2px solid var(--primary-color);
        }
        
        .nav-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--dark-text);
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }
        
        .nav-btn:hover {
            background: linear-gradient(90deg, var(--primary-color), var(--primary-color-light));
            color: #000;
        }
        
        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .nav-btn:disabled:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--dark-text);
        }
        
        .page-indicator {
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .pages-list {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--border-radius);
        }
        
        .page-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--dark-text);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .page-btn:hover, .page-btn.current-page {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-color-light));
            color: #000;
        }
        
        .season-description {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            font-size: 0.95rem;
            line-height: 1.6;
        }
        
        .book-content {
            margin-top: 20px;
        }
        
        .book-content p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .book-content img {
            max-width: 100%;
            border-radius: 8px;
            margin: 15px 0;
            display: block;
        }
    </style>
    </head>
<body>
    <!-- Header with Settings, Logo, and Search Icon -->
    <header>
        <div class="header-container">
            <!-- أيقونة البحث على اليسار -->
            <div class="search-container-top">
                <button class="icon-btn" id="search-icon-btn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            
            <!-- الشعار في المنتصف -->
            <div class="logo">
                <div class="logo-image">
                    <img src="Picsart_25-07-23_05-13-20-665.png" alt="M IDEA Book Logo">
                </div>
            </div>
            
            <!-- أيقونة الإعدادات على اليمين -->
            <div class="settings-container">
                <button class="icon-btn" id="settings-btn">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </div>
    </header>
    
    <!-- Navigation - يتحرك مع التمرير -->
    <nav>

        </div>
    </nav>
    
    <!-- Main Content -->
    <main>
        <!-- Search Results Section -->
        <section class="search-results" id="search-results">
            <div class="no-results-icon">
                <i class="fas fa-book-open"></i>
            </div>
            <div class="no-results">غير متوفر حالياً</div>
            <p>لم نتمكن من العثور على موسم يتطابق مع بحثك. يمكنك تجربة بحث آخر   .</p>
        </section>
        
        <!-- Anime Books Section -->
        <div class="books-grid" id="anime-books">
            <!-- سيتم تعبئة الكتب بواسطة الجافاسكريبت -->
        </div>
        
        <!-- Book Container (for One Piece seasons) -->
        <div class="book-container" id="book-container">
            <!-- سيتم تعبئة محتوى الكتاب هنا -->
        </div>
        
        <!-- Reading Section -->
        <div class="reading-container" id="reading-container">
            <div class="reading-header">
                <h3 class="reading-title" id="reading-title"></h3>
                <button class="back-to-books" id="back-to-books">
                    <i class="fas fa-arrow-left"></i> العودة إلى المواسم
                </button>
            </div>
            
            <div class="reading-content" id="reading-content">
                <!-- محتوى الصفحة الحالية -->
            </div>
            
            <div class="page-navigation">
                <button class="nav-btn" id="prev-page" disabled>
                    <i class="fas fa-arrow-right"></i> الصفحة السابقة
                </button>
                
                <div class="page-indicator" id="page-indicator">الصفحة 1 من 10</div>
                
                <button class="nav-btn" id="next-page">
                    الصفحة التالية <i class="fas fa-arrow-left"></i>
                </button>
            </div>
            
            <div class="pages-list" id="pages-list">
                <!-- أزرار الصفحات -->
            </div>
        </div>
    </main>
    
    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="#">عن الموقع</a>
                <a href="#">اتصل بنا</a>
                <a href="#">الشروط والأحكام</a>
          <a href="#">سياسة الخصوصية</a>
            </div>
            <div class="copyright">
                © 2023 <span>M IDEA Book</span>. جميع الحقوق محفوظة.
            </div>
        </div>
    </footer>
    
    <!-- القوائم المنبثقة -->
    <div class="search-container" id="search-container">
        <div class="search-box">
            <input type="text" id="search-input" placeholder="ابحث في مواسم ون بيس...">
            <button id="search-btn">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </div>
    
    <div class="settings-menu" id="settings-menu">
        <div class="settings-section">
            <h3 class="settings-title"><i class="fas fa-link"></i> وسائل التواصل</h3>
            <div class="social-links">
                <a href="https://discord.gg/WDrpNjfA" target="_blank" class="social-link">
                    <i class="fab fa-discord"></i>
                    <span>انضم إلى مجتمعنا على الديسكورد</span>
                </a>
            </div>
        </div>
    </div>
    
    <script>
        // بيانات كتب الأنمي (ون بيس فقط)
        const books = [
            {
                id: 1,
                title: "ون بيس",
                author: "إييتشيرو أودا",
                category: "anime",
                description: "مغامرة القراصنة في البحث عن الكنز الأسطوري 'ون بيس' في رحلة بحرية مليئة بالمغامرات والقتال",
                cover: "https://i.ibb.co/0Mq9Q7c/one-piece.jpg",
                type: "one-piece"
            }
        ];
        
        // بيانات مواسم ون بيس
        const onePieceSeasons = [
            {
                id: 1,
                title: "الموسم الأول: بحر الشرق",
                pages: 15,
                cover: "https://i.ibb.co/0Mq9Q7c/one-piece.jpg",
                description: "تبدأ رحلة مونكي دي لوفي في بحر الشرق، حيث يجمع طاقمه الأول ويتحدى القراصنة الأقوياء. في هذا الموسم، نتعرف على زورو، نامي، يوسوب، وسانجي."
            },
            {
                id: 2,
                title: "الموسم الثاني: جراند لاين",
                pages: 20,
                cover: "https://i.ibb.co/9bKxN3y/one-piece-season2.jpg",
                description: "بعد دخول جراند لاين، يواجه لوفي وطاقمه تحديات جديدة وأعداء أقوياء. يتعرفون على تشوبر، طبيب الطاقم الجديد، ويكتشفون أسرار جزيرة دروم."
            },
            {
                id: 3,
                title: "الموسم الثالث: ألاباستا",
                pages: 25,
                cover: "https://i.ibb.co/3fD3jWc/one-piece-season3.jpg",
                description: "يواجه طاقم قبعة القش ثورة في مملكة ألاباستا، حيث يحاول كروكودايل الإطاحة بالملكية. في هذه الرحلة، ينضم نيكو روبن إلى الطاقم."
            },
            {
                id: 4,
                title: "الموسم الرابع: سكايبيا",
                pages: 18,
                cover: "https://i.ibb.co/DKvYf2k/one-piece-season4.jpg",
                description: "يصعد لوفي وطاقمه إلى جزيرة السماء سكايبيا، حيث يواجهون إنيل وحارسه الرباعي. هنا يكتشفون أسرار مدينة شاندورا المفقودة."
            },
            {
                id: 5,
                title: "الموسم الخامس: ووتر 7 وإنيس لوبي",
                pages: 30,
                cover: "https://i.ibb.co/dK3HkXG/one-piece-season5.jpg",
                description: "في ووتر 7، يواجه الطاقم أزمة مع حكومة العالم ووكالة سي بي 9. تنضم فرانكي إلى الطاقم، ويخوضون معركة مصيرية في إنيس لوبي."
            },
            {
                id: 6,
                title: "الموسم السادس: ثريلر بارك",
                pages: 22,
                cover: "https://i.ibb.co/S3VnR5N/one-piece-season6.jpg",
                description: "يصل طاقم قبعة القش إلى جزيرة الأشباح ثريلر بارك، حيث يواجهون جيك موريا وأعضاء طاقمه. هنا يكتسب بروك مكانه كعازف الطاقم."
            },
            {
                id: 7,
                title: "الموسم السابع: حرب القمة",
                pages: 35,
                cover: "https://i.ibb.co/6RqDx8P/one-piece-season7.jpg",
                description: "بعد انفصال الطاقم، يتوجه لوفي إلى إمباون داون ومن ثم إلى مارينفورد لإنقاذ أخيه آيس. تشهد هذه الأحداث حرب القمة الكبرى."
            },
            {
                id: 8,
                title: "الموسم الثامن: جزيرة السمك",
                pages: 20,
                cover: "https://i.ibb.co/0Mq9Q7c/one-piece.jpg",
                description: "بعد عامين من التدريب، يجتمع الطاقم من جديد ويتوجهون إلى جزيرة السمك، حيث يواجهون هودي جونز وعصابة السمك الجديد."
            },
            {
                id: 9,
                title: "الموسم التاسع: بونك هازارد",
                pages: 28,
                cover: "https://i.ibb.co/9bKxN3y/one-piece-season2.jpg",
                description: "يصل الطاقم إلى جزيرة بونك هازارد، حيث يكتشفون المؤامرة التي يحيكها الدوفلامنغو. هنا يتعاونون مع لاو ومجموعته."
            },
            {
                id: 10,
                title: "الموسم العاشر: دريسروزا",
                pages: 32,
                cover: "https://i.ibb.co/3fD3jWc/one-piece-season3.jpg",
                description: "يواجه لوفي وطاقمه الدوفلامنغو في دريسروزا، ويحاولون إنقاذ البلاد من ظلمه. في هذه المعركة، تظهر قوة الجير الرابع."
            },
            {
                id: 11,
                title: "الموسم الحادي عشر: جزيرة الزوجي",
                pages: 24,
                cover: "https://i.ibb.co/DKvYf2k/one-piece-season4.jpg",
                description: "يصل الطاقم إلى جزيرة الزوجي، حيث يواجهون بيغ موم وأطفالها. يحاولون استعادة سانجي وإنقاذ فايدر من قبضتها."
            },
            {
                id: 12,
                title: "الموسم الثاني عشر: وانو كوني",
                pages: 40,
                cover: "https://i.ibb.co/dK3HkXG/one-piece-season5.jpg",
                description: "يصل لوفي وطاقمه إلى وانو كوني، حيث يتعاونون مع كيدو لتحدي كايدو وأوروتشي. تشهد هذه الأحداث حرب وانو الكبرى."
            }
        ];
        
        // عناصر DOM
        const settingsBtn = document.getElementById('settings-btn');
        const settingsMenu = document.getElementById('settings-menu');
        const searchIconBtn = document.getElementById('search-icon-btn');
        const searchContainer = document.getElementById('search-container');
        const searchInput = document.getElementById('search-input');
        const searchBtn = document.getElementById('search-btn');
        const searchResults = document.getElementById('search-results');
        const animeBooksContainer = document.getElementById('anime-books');
        const bookContainer = document.getElementById('book-container');
        const readingContainer = document.getElementById('reading-container');
        const readingTitle = document.getElementById('reading-title');
        const readingContent = document.getElementById('reading-content');
        const backToBooksBtn = document.getElementById('back-to-books');
        const prevPageBtn = document.getElementById('prev-page');
        const nextPageBtn = document.getElementById('next-page');
        const pageIndicator = document.getElementById('page-indicator');
        const pagesList = document.getElementById('pages-list');
        
        // حالة التطبيق
        let currentBook = null;
        let currentSeason = null;
        let currentPage = 1;
        let readingProgress = {};
        
        // تهيئة الموقع
        function initSite() {
            // تحميل التقدم المحفوظ
            loadReadingProgress();
            
            // عرض كتب الأنمي (ون بيس فقط)
            renderBooks(books, animeBooksContainer);
                      // إضافة مستمعي الأحداث
            settingsBtn.addEventListener('click', toggleSettingsMenu);
            searchIconBtn.addEventListener('click', toggleSearchContainer);
            searchBtn.addEventListener('click', performSearch);
            searchInput.addEventListener('keyup', function(e) {
                if (e.key === 'Enter') performSearch();
            });
            
            // أحداث قسم القراءة
            backToBooksBtn.addEventListener('click', showBooksView);
            prevPageBtn.addEventListener('click', goToPrevPage);
            nextPageBtn.addEventListener('click', goToNextPage);
            
            // إغلاق القوائم عند النقر خارجها
            document.addEventListener('click', function(e) {
                // إغلاق قائمة الإعدادات
                if (!settingsMenu.contains(e.target) && !settingsBtn.contains(e.target)) {
                    settingsMenu.classList.remove('active');
                }
                
                // إغلاق قائمة البحث
                if (!searchContainer.contains(e.target) && !searchIconBtn.contains(e.target)) {
                    searchContainer.classList.remove('active');
                }
            });
        }
        
        // تحميل التقدم المحفوظ
        function loadReadingProgress() {
            const savedProgress = localStorage.getItem('readingProgress');
            if (savedProgress) {
                readingProgress = JSON.parse(savedProgress);
            }
        }
        
        // حفظ التقدم
        function saveReadingProgress() {
            if (currentSeason) {
                readingProgress[`season-${currentSeason.id}`] = currentPage;
            } else if (currentBook) {
                readingProgress[`book-${currentBook.id}`] = currentPage;
            }
            localStorage.setItem('readingProgress', JSON.stringify(readingProgress));
        }
        
        // عرض الكتب
        function renderBooks(booksArray, container) {
            container.innerHTML = '';
            
            if (booksArray.length === 0) {
                searchResults.style.display = 'flex';
                return;
            }
            
            searchResults.style.display = 'none';
            
            booksArray.forEach(book => {
                const bookCard = document.createElement('div');
                bookCard.className = 'book-card';
                bookCard.dataset.id = book.id;
                bookCard.innerHTML = `
                    <div class="book-cover">
                        <img src="${book.cover}" alt="${book.title}">
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">${book.title}</h3>
                        <p class="book-author">${book.author}</p>
                        <p class="book-description">${book.description}</p>
                        <span class="book-category">${book.category === 'anime' ? 'أنمي' : book.category}</span>
                    </div>
                `;
                
                bookCard.addEventListener('click', () => {
                    openBook(book);
                });
                
                container.appendChild(bookCard);
            });
        }
        
        // فتح كتاب
        function openBook(book) {
            currentBook = book;
            showOnePieceSeasons();
        }
        
        // عرض مواسم ون بيس
        function showOnePieceSeasons() {
            bookContainer.innerHTML = `
                <h2 class="section-title">ون بيس - جميع المواسم</h2>
                <div class="seasons-grid" id="seasons-grid"></div>
            `;
            
            const seasonsGrid = document.getElementById('seasons-grid');
            
            onePieceSeasons.forEach(season => {
                const progress = readingProgress[`season-${season.id}`] || 0;
                const progressPercent = progress > 0 ? Math.min(100, (progress / season.pages) * 100) : 0;
                
                const seasonCard = document.createElement('div');
                seasonCard.className = 'season-card';
                seasonCard.dataset.id = season.id;
                seasonCard.innerHTML = `
                    <div class="season-cover">
                        <img src="${season.cover}" alt="${season.title}">
                    </div>
                    <div class="season-info">
                        <h3 class="season-title">${season.title}</h3>
                        <div class="season-description">${season.description}</div>
                        <div class="season-pages">عدد الصفحات: ${season.pages}</div>
                        <div class="season-progress">
                            <div class="progress-bar" style="width: ${progressPercent}%"></div>
                        </div>
                    </div>
                `;
                
                seasonCard.addEventListener('click', () => {
                    openSeason(season);
                });
                
                seasonsGrid.appendChild(seasonCard);
            });
            
            // إظهار قسم الكتاب وإخفاء الأقسام الأخرى
            animeBooksContainer.style.display = 'none';
            searchResults.style.display = 'none';
            bookContainer.style.display = 'block';
            readingContainer.style.display = 'none';
        }
        
        // فتح موسم للقراءة
        function openSeason(season) {
            currentSeason = season;
            currentBook = null;
            
            // استعادة التقدم المحفوظ أو البدء من الصفحة الأولى
            currentPage = readingProgress[`season-${season.id}`] || 1;
            
            // تحديث واجهة القراءة
            updateReadingView();
            
            // إظهار قسم القراءة وإخفاء الأقسام الأخرى
            bookContainer.style.display = 'none';
            animeBooksContainer.style.display = 'none';
            searchResults.style.display = 'none';
            readingContainer.style.display = 'block';
        }
        
        // تحديث واجهة القراءة
        function updateReadingView() {
            // تحديث العنوان
            if (currentSeason) {
                readingTitle.textContent = currentSeason.title;
            } else if (currentBook) {
                readingTitle.textContent = currentBook.title;
            }
            
            // تحديث محتوى الصفحة الحالية
            renderPageContent();
            
            // تحديث مؤشر الصفحة
            const totalPages = currentSeason ? currentSeason.pages : 50;
            pageIndicator.textContent = `الصفحة ${currentPage} من ${totalPages}`;
            
            // تحديث حالة أزرار التنقل
            prevPageBtn.disabled = currentPage <= 1;
            nextPageBtn.disabled = currentPage >= totalPages;
            
            // تحديث قائمة الصفحات
            updatePagesList(totalPages);
            
            // حفظ التقدم
            saveReadingProgress();
        }
        
        // عرض محتوى الصفحة الحالية
        function renderPageContent() {
            let content = '';
            
            if (currentSeason) {
                content = `
                    <div class="season-description">
                        ${currentSeason.description}
                    </div>
                    <div class="book-content">
                        <h3>الصفحة ${currentPage}</h3>
                `;
            } else if (currentBook) {
                content = `
                    <div class="book-content">
                        <h2>${currentBook.title}</h2>
                        <h3>الصفحة ${currentPage}</h3>
                `;
            }
            
            // إضافة محتوى عشوائي ممتد
            const loremIpsum = "في هذه الصفحة، يواجهون تحديات جديدة ويقابلون أعداء أقوياء. قوة لوفي في صورة الجير الرابعة تظهر بوضوح، بينما زورو يمارس تقنياته القتالية الجديدة. نامي تستخدم خرائطها الملاحية لتوجيه السفينة عبر المياه الخطرة، بينما يعد سانجي وجبة طعام لذيذة للطاقم. تشوبر يعالج الجرحى، وفرانكي يقوم بتحسينات على السفينة، بينما بروك يعزف لحنًا جديدًا لرفع الروح المعنوية. روبن تبحث عن تاريخ العالم المفقود في النقوش القديمة.";
            
            // تكرار النص عدة مرات لملء الصفحة
            for (let i = 0; i < 8; i++) {
                content += `<p>${loremIpsum}</p>`;
            }
            
            // إضافة صورة كل بضع فقرات
            if (currentPage % 3 === 0) {
                const cover = currentSeason ? currentSeason.cover : currentBook.cover;
                content += `<div style="text-align:center; margin: 20px 0;">
                    <img src="${cover}" alt="صفحة ${currentPage}" style="max-width:100%; border-radius:8px;">
                </div>`;
            }
            
            content += `</div>`;
            readingContent.innerHTML = content;
        }
        
        // تحديث قائمة الصفحات
        function updatePagesList(totalPages) {
            pagesList.innerHTML = '';
            
            for (let i = 1; i <= totalPages; i++) {
                const pageBtn = document.createElement('button');
                pageBtn.className = 'page-btn';
                if (i === currentPage) {
                    pageBtn.classList.add('current-page');
                }
                pageBtn.textContent = i;
                pageBtn.addEventListener('click', () => {
                    currentPage = i;
                    updateReadingView();
                    // التمرير لأعلى الصفحة
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
                
                pagesList.appendChild(pageBtn);
            }
        }
        
        // الذهاب إلى الصفحة السابقة
        function goToPrevPage() {
            if (currentPage > 1) {
                currentPage--;
                updateReadingView();
                // التمرير لأعلى الصفحة
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }
        
        // الذهاب إلى الصفحة التالية
        function goToNextPage() {
            const totalPages = currentSeason ? currentSeason.pages : 50;
            if (currentPage < totalPages) {
                currentPage++;
                updateReadingView();
                // التمرير لأعلى الصفحة
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }
        
        // العودة إلى قائمة الكتب
        function showBooksView() {
            readingContainer.style.display = 'none';
            bookContainer.style.display = 'none';
            animeBooksContainer.style.display = 'grid';
            searchResults.style.display = 'none';
            
            // إعادة تحميل الكتب
            renderBooks(books, animeBooksContainer);
        }
        
        // تبديل قائمة الإعدادات
        function toggleSettingsMenu(e) {
            e.stopPropagation();
            settingsMenu.classList.toggle('active');
            searchContainer.classList.remove('active');
        }
        
        // تبديل قائمة البحث
        function toggleSearchContainer(e) {
            e.stopPropagation();
            searchContainer.classList.toggle('active');
            settingsMenu.classList.remove('active');
            // التركيز على حقل الإدخال عند الفتح
            if (searchContainer.classList.contains('active')) {
                setTimeout(() => {
                    searchInput.focus();
                }, 100);
            }
        }
        
        // تنفيذ البحث
        function performSearch() {
            const searchTerm = searchInput.value.trim().toLowerCase();
            
            if (searchTerm === '') {
                animeBooksContainer.style.display = 'grid';
                bookContainer.style.display = 'none';
                readingContainer.style.display = 'none';
                searchResults.style.display = 'none';
                renderBooks(books, animeBooksContainer);
                return;
            }
            const results = onePieceSeasons.filter(season => 
                season.title.toLowerCase().includes(searchTerm) || 
                season.description.toLowerCase().includes(searchTerm)
            );
            
            if (results.length > 0) {
                bookContainer.innerHTML = `
                    <h2 class="section-title">نتائج البحث: "${searchTerm}"</h2>
                    <div class="seasons-grid" id="seasons-grid"></div>
                `;
                
                const seasonsGrid = document.getElementById('seasons-grid');
                
                results.forEach(season => {
                    const progress = readingProgress[`season-${season.id}`] || 0;
                    const progressPercent = progress > 0 ? Math.min(100, (progress / season.pages) * 100) : 0;
                    
                    const seasonCard = document.createElement('div');
                    seasonCard.className = 'season-card';
                    seasonCard.dataset.id = season.id;
                    seasonCard.innerHTML = `
                        <div class="season-cover">
                            <img src="${season.cover}" alt="${season.title}">
                        </div>
                        <div class="season-info">
                            <h3 class="season-title">${season.title}</h3>
                            <div class="season-description">${season.description}</div>
                            <div class="season-pages">عدد الصفحات: ${season.pages}</div>
                            <div class="season-progress">
                                <div class="progress-bar" style="width: ${progressPercent}%"></div>
                            </div>
                        </div>
                    `;
                    
                    seasonCard.addEventListener('click', () => {
                        openSeason(season);
                    });
                    
                    seasonsGrid.appendChild(seasonCard);
                });
                
                animeBooksContainer.style.display = 'none';
                searchResults.style.display = 'none';
                bookContainer.style.display = 'block';
                readingContainer.style.display = 'none';
            } else {
                animeBooksContainer.style.display = 'none';
                bookContainer.style.display = 'none';
                readingContainer.style.display = 'none';
                searchResults.style.display = 'flex';
            }
            
            // إغلاق قائمة البحث
            searchContainer.classList.remove('active');
        }
        
        // تهيئة الموقع عند تحميل DOM
        document.addEventListener('DOMContentLoaded', initSite);
    </script>
</body>
</html>